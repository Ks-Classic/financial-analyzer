# TODO: フェーズ2 - エラー箇所のハイライト表示

- [ ] **1. ハイライト機能の基本実装**
  - [ ] **1.1. フロントエンドでのテキスト座標取得**
    - [ ] `react-pdf` を使用して、PDFビューア上で特定のテキストの座標（位置とサイズ）を取得する機能を実装する。
    - [ ] 取得した座標情報が、ハイライト表示に適した形式であることを確認する。
  - [ ] **1.2. ハイライトコンポーネントの作成**
    - [ ] 取得した座標に基づいて、PDFページ上に長方形などのハイライト領域を描画するReactコンポーネントを作成する。
    - [ ] ハイライトの色や透明度を調整できるようにする。
  - [ ] **1.3. 分析結果とハイライトの連携**
    - [ ] 分析結果に含まれる `highlightText` を利用して、PDF上の該当箇所を自動でハイライト表示する。
    - [ ] 分析結果リストの項目をクリックした際に、対応するPDFページへ移動し、ハイライトが表示されるようにする。

- [ ] **2. ハイライトのUX改善**
  - [ ] **2.1. ハイライトのスタイル調整**
    - [ ] 複数の指摘事項がある場合に、ハイライトが重ならないように調整する。
    - [ ] ハイライトがテキストを隠さないように、適切な透明度を設定する。
  - [ ] **2.2. ホバー時の詳細表示**
    - [ ] ハイライトされた領域にマウスカーソルを合わせた際に、その指摘事項のサマリーや詳細がツールチップなどで表示される機能を実装する。
  - [ ] **2.3. ハイライトの切り替えオプション**
    - [ ] ユーザーがハイライトの表示/非表示を切り替えられるUI要素（トグルボタンなど）を提供する。

- [ ] **3. 精度とエッジケース対応**
  - [ ] **3.1. テキスト抽出とハイライトの同期**
    - [ ] PDFから抽出されたテキストと、AIが認識したテキストの差異によってハイライトがずれる問題がないか検証する。
    - [ ] 必要に応じて、テキストマッチングのロジックを改善し、正確なハイライトを保証する。
  - [ ] **3.2. 複数ページにまたがるハイライト**
    - [ ] 一つの指摘事項が複数ページにまたがる場合に、適切にハイライトが表示されるように対応を検討する（該当箇所が複数ページにわたる場合、各ページでハイライト表示されるようにする）。
  - [ ] **3.3. 動的なコンテンツへの対応**
    - [ ] PDFの構造によっては、テキスト座標が動的に変化する可能性があるため、その対応を検討する（例: レスポンシブデザインのPDFなど）。 