# TODO: フェーズ1 - 分析精度とシステムの完成

## 🎯 **最優先：分析精度の検証と改善**

### **✅ 1. AI分析精度の実際検証（重要度：最高）**
- [ ] **1.1. 本番財務レポートでの分析テスト**
  - [ ] 実際の財務レポートPDFファイルをアップロード（localhost:5175）
  - [ ] 19件の分析結果が正確に生成されているかUI上で確認
  - [ ] 各分析結果の内容品質を検証：
    - [ ] ページタイトルが正しく抽出されているか
    - [ ] 指摘の種類（数値計算の誤り、傾向の誤り、事実誤認、重要項目の見落とし）が適切か
    - [ ] サマリーと詳細が理解しやすく、実用的か
    - [ ] ハイライトテキストが関連箇所を適切に示しているか

- [ ] **1.2. Gemini分析プロンプトの調整**
  - [ ] 分析結果の品質に問題がある場合、`apps/backend/src/api/analysis/analysis.service.ts`のプロンプト改善
  - [ ] 特に以下の点で精度향상：
    - [ ] ページタイトル抽出の改善（現在「P.undefined」が表示される問題）
    - [ ] 数値計算誤りの検出精度向上
    - [ ] 偽陽性（誤検出）の削減
    - [ ] 重要な問題の見落とし削減

- [ ] **1.3. PDF解析プロセスの最適化**
  - [ ] `pdf-parse`によるテキスト抽出品質の検証
  - [ ] 必要に応じて、テキスト前処理ロジックの改善
  - [ ] 複雑な表構造やレイアウトでの抽出精度向上

## 🔧 **システム機能の完成**

### **✅ 2. UI/UXの最終調整**
- [ ] **2.1. 分析結果表示の改善**
  - [ ] 現在のシンプルなUI（分析結果のみ表示）の使いやすさ検証
  - [ ] スクロール機能の動作確認
  - [ ] レスポンシブデザインの検証（モバイル・デスクトップ）
  - [ ] 各分析結果カードの視認性向上

- [ ] **2.2. エラーハンドリングの強化**
  - [ ] ファイルアップロード時のエラー処理改善
  - [ ] バックエンド分析エラー時のユーザー通知改善
  - [ ] ローディング表示の最適化

### **✅ 3. データ永続化の実装**
- [ ] **3.1. Firestore連携の実装**
  - [ ] 分析結果のFirestore保存機能実装
  - [ ] `analysisResults`コレクションのスキーマ準拠
  - [ ] 保存された分析結果の表示機能（履歴機能）

### **✅ 4. デプロイメントの完成**
- [ ] **4.1. 本番環境デプロイの実行**
  - [ ] フロントエンド：Vercel CLIでのデプロイ
  - [ ] バックエンド：GCP Cloud Run での本番デプロイ
  - [ ] 環境変数（GEMINI_API_KEY等）の本番設定
  - [ ] 本番環境での動作確認

- [ ] **4.2. インフラとしての安定性確保**
  - [ ] Terraform スクリプトの完成
  - [ ] CI/CDパイプラインの構築
  - [ ] モニタリング・ログ設定

## 📋 **現在の実装状況**

### **✅ 完了済み**
- PDF表示機能の完全削除（react-pdf依存関係削除）
- シンプルな分析結果表示専用UI
- バックエンドでのPDF解析とGemini AI分析
- モノレポ構成（pnpm workspaces）
- 開発環境での動作確認

### **🔄 進行中**
- フロントエンド：localhost:5175 で稼働中
- バックエンド：localhost:3001 で稼働中  
- 19件の分析結果が正常に生成・表示されている

### **⚠️ 注意事項**
- **現在のUI**は**PDF表示機能なし**の分析結果専用
- PROJECT_OVERVIEW.mdのPDF表示機能は削除済みのため、文書更新が必要
- 分析精度の検証が最優先課題

## 🎯 **次のアクション**
1. **実際の財務レポートでの分析品質検証**
2. **必要に応じたプロンプト調整**
3. **Firestore保存機能の実装**
4. **本番デプロイの実行** 